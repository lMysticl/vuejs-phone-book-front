webpackJsonp([1],{0:function(e,t){},"7zck":function(e,t){},A5CT:function(e,t){},Fnsd:function(e,t){},K7Es:function(e,t){},LgHL:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),s=a("bOdI"),i=a.n(s),o={props:{modal:Boolean},data:function(){return{credentials:{username:"",password:""},error:!1,errorMessage:null,loading:!1}},methods:{close:function(){this.$emit("close"),this.clearError(),this.clean()},clearError:function(){this.errorMessage=null},clean:function(){this.credentials.username="",this.credentials.password=""},login:function(){var e=this,t=new FormData;t.append("grant_type","password"),t.append("username",this.credentials.username),t.append("password",this.credentials.password),this.loading=!0,this.$store.dispatch("login",{credentials:this.credentials,formData:t,redirect:"test"}).then(function(){e.loading=!1,e.close(),e.clean()}).catch(function(t){console.log(t),e.error=!0,e.loading=!1,e.errorMessage=t.body.error_description,e.close()})}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Login")])]),e._v(" "),a("v-divider"),e._v(" "),a("v-alert",{attrs:{type:"error",dismissible:"",transition:"scale-transition"},on:{input:e.clearError},model:{value:e.error,callback:function(t){e.error=t},expression:"error"}},[e._v("\n      "+e._s(e.errorMessage)+"\n    ")]),e._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{disabled:e.loading,id:"username",label:"Username",required:"","prepend-icon":"perm_identity"},model:{value:e.credentials.username,callback:function(t){e.$set(e.credentials,"username",t)},expression:"credentials.username"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{disabled:e.loading,id:"password",label:"Password",required:"",type:"password","prepend-icon":"lock_open"},model:{value:e.credentials.password,callback:function(t){e.$set(e.credentials,"password",t)},expression:"credentials.password"}})],1)],1)],1),e._v(" "),a("small",[e._v("*indicates required field")])],1),e._v(" "),a("v-divider"),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:"",disabled:e.loading},on:{click:e.close}},[e._v("close")]),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:"",loading:e.loading},on:{click:e.login}},[e._v("login")])],1)],1)],1)},staticRenderFns:[]},l=a("VU/8")(o,r,!1,null,null,null).exports,c={props:{modal:Boolean},data:function(){return{register:{},error:!1,errorMessage:"",e3:!0,loading:!1,password:"Password",usernameRules:[function(e){return!!e||"This field is required"},function(e){return e&&e.length>2||"This field must be more then two characters"}],passwordRules:[function(e){return!!e||"This field is required"},function(e){return e&&e.length>4||"This field must be more then 4 characters"}]}},methods:{close:function(){this.$emit("close"),this.clearError(),this.clean()},clearError:function(){this.errorMessage=null},clean:function(){this.$refs.form.reset(),this.register.username="",this.register.password="",this.register.middlename="",this.register.firstname=""},registration:function(){var e=this;this.$refs.form.validate()&&(this.loading=!0,this.$store.dispatch("registration",{data:this.register}).then(function(){e.loading=!1,e.close()}).catch(function(t){console.log(t),e.error=!0,e.errorMessage=t.body.message,e.loading=!1}))}},computed:{middlenameRules:function(){if(this.register.middlename)return[function(e){return e&&e.length>2||"This field must be more then two characters"}]},firstnameRules:function(){if(this.register.firstname)return[function(e){return e&&e.length>2||"This field must be more then two characters"}]},valid:{get:function(){return!!this.register.username&&!!this.register.password},set:function(e){}}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Registration")])]),e._v(" "),a("v-divider"),e._v(" "),a("v-alert",{attrs:{type:"error",dismissible:"",transition:"scale-transition"},on:{input:e.clearError},model:{value:e.error,callback:function(t){e.error=t},expression:"error"}},[e._v("\n      "+e._s(e.errorMessage)+"\n    ")]),e._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{id:"reg_username",label:"Username","prepend-icon":"perm_identity",rules:e.usernameRules,disabled:e.loading,required:""},model:{value:e.register.username,callback:function(t){e.$set(e.register,"username",t)},expression:"register.username"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{id:"firstname",label:"First name","prepend-icon":"face",rules:e.firstnameRules,disabled:e.loading},model:{value:e.register.firstname,callback:function(t){e.$set(e.register,"firstname",t)},expression:"register.firstname"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{id:"middlename",label:"Middle name","prepend-icon":"person",rules:e.middlenameRules,disabled:e.loading},model:{value:e.register.middlename,callback:function(t){e.$set(e.register,"middlename",t)},expression:"register.middlename"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{staticClass:"input-group--focused",attrs:{id:"reg_password",type:"password","prepend-icon":"lock_open",name:"input-10-2",label:"Enter your password",hint:"At least 4 characters",required:"",min:"4","append-icon":e.e3?"visibility":"visibility_off","append-icon-cb":function(){return e.e3=!e.e3},type:e.e3?"password":"text",rules:e.passwordRules,disabled:e.loading},model:{value:e.register.password,callback:function(t){e.$set(e.register,"password",t)},expression:"register.password"}})],1)],1)],1),e._v(" "),a("small",[e._v("*indicates required field")])],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:"",disabled:e.loading},on:{click:e.close}},[e._v("close")]),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:"",disabled:!e.valid,loading:e.loading},on:{click:e.registration}},[e._v("Registration")])],1)],1)],1)},staticRenderFns:[]},u=a("VU/8")(c,d,!1,null,null,null).exports,v=i()({name:"welcome",components:{appLogin:l,appRegistration:u},data:function(){return{drawer:!1,login:!1,register:!1}},methods:{openLoginModal:function(){this.login=!0},closeRegisterModal:function(){this.register=!1},openRegisterModal:function(){this.register=!0},closeLoginModal:function(){this.login=!1},logOut:function(){this.$store.dispatch("logOut")},toTestPage:function(){this.isAuth?this.$router.push("/test"):this.openLoginModal()}},computed:{todayYear:function(){return(new Date).getFullYear()},isAuth:function(){return this.$store.getters.isAuth}}},"name","App"),m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{dark:"",src:"http://oxygennacdn3.oxygenna.com/wp-content/uploads/2015/11/18.jpg"}},[a("v-navigation-drawer",{attrs:{fixed:"",temporary:"",app:"","disable-resize-watcher":""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",[e.isAuth?e._e():a("v-list-tile",{attrs:{avatar:""},on:{click:e.openRegisterModal}},[a("v-list-tile-avatar",[a("v-icon",[e._v("fa-user-plus")])],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("Registration")])],1)],1),e._v(" "),e.isAuth?e._e():a("v-list-tile",{attrs:{avatar:""},on:{click:e.openLoginModal}},[a("v-list-tile-avatar",[a("v-icon",[e._v("fa-sign-in")])],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("Login")])],1)],1),e._v(" "),e.isAuth?a("v-list-tile",{attrs:{avatar:""},on:{click:e.logOut}},[a("v-list-tile-avatar",[a("v-icon",[e._v("fa-sign-out")])],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("LogOut")])],1)],1):e._e(),e._v(" "),a("v-divider"),e._v(" "),a("v-list-tile",{attrs:{avatar:""},on:{click:e.toTestPage}},[a("v-list-tile-avatar",[a("v-icon",[e._v("fa-sign-out")])],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("Contacts page")])],1)],1)],1)],1),e._v(" "),a("v-toolbar",{attrs:{app:""}},[a("v-toolbar-side-icon",{staticClass:"hidden-sm-and-up",on:{click:function(t){e.drawer=!e.drawer}}}),e._v(" "),a("v-toolbar-title",{staticClass:"hidden-sm-and-up"},[e._v("Phone Book")]),e._v(" "),a("v-toolbar-items",{staticClass:"hidden-xs-only"},[a("v-btn",{attrs:{exact:"",flat:"",to:"/"}},[e._v("\n        Phone Book\n      ")]),e._v(" "),a("v-btn",{attrs:{exact:"",flat:""},on:{click:e.toTestPage}},[e._v("\n        Contacts Page\n      ")])],1),e._v(" "),a("v-spacer"),e._v(" "),a("v-toolbar-items",{staticClass:"hidden-xs-only"},[e.isAuth?e._e():a("v-btn",{attrs:{flat:""},on:{click:e.openRegisterModal}},[a("v-icon",{attrs:{left:""}},[e._v("fa-user-plus")]),e._v("\n        Registration\n      ")],1),e._v(" "),e.isAuth?e._e():a("v-btn",{attrs:{flat:""},on:{click:e.openLoginModal}},[a("v-icon",{attrs:{left:""}},[e._v("fa-sign-in")]),e._v("\n        Login\n      ")],1),e._v(" "),e.isAuth?a("v-btn",{attrs:{flat:""},on:{click:e.logOut}},[a("v-icon",{attrs:{left:""}},[e._v("fa-sign-out")]),e._v("\n        LogOut\n      ")],1):e._e()],1)],1),e._v(" "),a("v-content",[a("router-view")],1),e._v(" "),a("app-login",{attrs:{modal:e.login},on:{close:e.closeLoginModal}}),e._v(" "),a("app-registration",{attrs:{modal:e.register},on:{close:e.closeRegisterModal}}),e._v(" "),a("v-footer",{attrs:{app:""}},[a("span",{staticClass:"pl-4"},[e._v("© dantedimon and mystic | "+e._s(e.todayYear)+" | © ")])])],1)},staticRenderFns:[]};var h=a("VU/8")(v,m,!1,function(e){a("K7Es")},null,null).exports,f=a("/ocq");function p(e){return function(e){var t=e.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(window.atob(t))}(e).exp}function g(){return localStorage.getItem("access_token")}var _={getToken:g,saveToken:function(e){localStorage.setItem("access_token",e)},deleteToken:function(){localStorage.removeItem("access_token")},getAuthHeader:function(){return"Bearer "+g()},isTokenExpired:function(){var e=g();return!e||Date.now()/1e3>p(e)}},b=a("fZjL"),x=a.n(b),k={props:["contact"],data:function(){return{modal:!1,contactId:null,firstname:null,middlename:null,lastname:null,address:null,email:null,homePhone:null,mobilePhone:null}},methods:{setValues:function(){this.contactId=this.contact.contactId,this.firstname=this.contact.firstname,this.middlename=this.contact.middlename,this.lastname=this.contact.lastname,this.address=this.contact.address,this.email=this.contact.email,this.homePhone=this.contact.homePhone,this.mobilePhone=this.contact.mobilePhone},close:function(){this.modal=!1},open:function(){this.modal=!0},save:function(){var e=this,t=new FormData;t.append("contactId",this.contactId),t.append("firstname",this.firstname),t.append("lastname",this.lastname),t.append("middlename",this.middlename),t.append("address",this.address),t.append("email",this.email),t.append("homePhone",this.homePhone),t.append("mobilePhone",this.mobilePhone),this.$http.post("https://vuejs-phone-book.herokuapp.com/contacts/update",t,{headers:{Authorization:_.getAuthHeader()}}).then(function(){e.close(),e.$emit("update"),console.log("Contact has been updated")})}},watch:{contact:function(e){x()(e).length&&(this.open(),this.setValues())}}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{persistent:"",scrollable:"","max-width":"450px"},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Contact data")])]),e._v(" "),a("v-divider"),e._v(" "),a("v-card-text",{staticStyle:{"max-height":"400px"}},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"First name"},model:{value:e.firstname,callback:function(t){e.firstname=t},expression:"firstname"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Last name"},model:{value:e.lastname,callback:function(t){e.lastname=t},expression:"lastname"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Middle name"},model:{value:e.middlename,callback:function(t){e.middlename=t},expression:"middlename"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Mobile phone"},model:{value:e.mobilePhone,callback:function(t){e.mobilePhone=t},expression:"mobilePhone"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Home phone"},model:{value:e.homePhone,callback:function(t){e.homePhone=t},expression:"homePhone"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Address"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1)],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){e.modal=!1}}},[e._v("Close")]),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){e.save(t)}}},[e._v("Save")])],1)],1)],1)},staticRenderFns:[]};var C={data:function(){return{modal:!1,firstname:"",middlename:"",lastname:"",address:"",email:"",homePhone:"",mobilePhone:"",loading:!1,error:!1,errorMessage:null,firstnameRules:[function(e){return!!e||"This field is required"},function(e){return e&&e.length>2||"This field must be more then two characters"}],mobilePhoneRules:[function(e){return!!e||"This field is required"},function(e){return e&&e.length>2||"This field must be more then two characters"}]}},computed:{lastnameRules:function(){if(this.lastname)return[function(e){return e&&e.length>2||"This field must be more then two characters"}]},middlenameRules:function(){if(this.middlename)return[function(e){return e&&e.length>2||"This field must be more then two characters"}]},homePhoneRules:function(){if(this.homePhone)return[function(e){return e&&e.length>2||"This field must be more then two characters"}]},addressRules:function(){if(this.address)return[function(e){return e&&e.length>2||"This field must be more then two characters"}]},emailRules:function(){if(this.email)return[function(e){return e&&e.length>2||"This field must be more then two characters"}]},valid:{get:function(){return!!this.firstname&&!!this.mobilePhone},set:function(e){}}},methods:{close:function(){this.modal=!1,this.clean()},clean:function(){this.$refs.form.reset(),this.firstname="",this.lastname="",this.middlename="",this.address="",this.email="",this.homePhone="",this.mobilePhone=""},clearError:function(){this.errorMessage=null},open:function(){this.modal=!0},save:function(){var e=this;if(this.$refs.form.validate()){var t=new FormData;t.append("firstname",this.firstname),t.append("lastname",this.lastname),t.append("middlename",this.middlename),t.append("address",this.address),t.append("email",this.email),t.append("homePhone",this.homePhone),t.append("mobilePhone",this.mobilePhone),this.loading=!0,this.$http.post("https://vuejs-phone-book.herokuapp.com/contacts/add",t,{headers:{Authorization:_.getAuthHeader()}}).then(function(){e.loading=!1,e.close(),e.$emit("update"),e.clean(),console.log("Contact has been added")}).catch(function(t){console.log(t),e.error=!0,e.loading=!1,e.errorMessage=t.body.error_description,e.close()})}}}},P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{persistent:"",scrollable:"","max-width":"450px"},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[a("v-btn",{attrs:{slot:"activator",color:"blue",dark:""},slot:"activator"},[e._v("new contact")]),e._v(" "),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Contact data")])]),e._v(" "),a("div",{staticClass:"pl-4 pb-2"},[a("small",[e._v("* - required fields")])]),e._v(" "),a("v-divider"),e._v(" "),a("v-alert",{attrs:{type:"error",dismissible:"",transition:"scale-transition"},on:{input:e.clearError},model:{value:e.error,callback:function(t){e.error=t},expression:"error"}},[e._v("\n      "+e._s(e.errorMessage)+"\n    ")]),e._v(" "),a("v-card-text",{staticStyle:{"max-height":"400px"}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"First name",rules:e.firstnameRules,disabled:e.loading,required:""},model:{value:e.firstname,callback:function(t){e.firstname=t},expression:"firstname"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Last name",rules:e.lastnameRules,disabled:e.loading},model:{value:e.lastname,callback:function(t){e.lastname=t},expression:"lastname"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Middle name",rules:e.middlenameRules,disabled:e.loading},model:{value:e.middlename,callback:function(t){e.middlename=t},expression:"middlename"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Mobile phone",rules:e.mobilePhoneRules,disabled:e.loading,required:""},model:{value:e.mobilePhone,callback:function(t){e.mobilePhone=t},expression:"mobilePhone"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Home phone",rules:e.homePhoneRules,disabled:e.loading},model:{value:e.homePhone,callback:function(t){e.homePhone=t},expression:"homePhone"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Address",rules:e.addressRules,disabled:e.loading},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Email",rules:e.emailRules,disabled:e.loading},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1)],1)],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:"",disabled:e.loading},nativeOn:{click:function(t){e.close(t)}}},[e._v("Close")]),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:"",disabled:!e.valid,loading:e.loading},nativeOn:{click:function(t){e.save(t)}}},[e._v("Save")])],1)],1)],1)},staticRenderFns:[]};var y="https://vuejs-phone-book.herokuapp.com/",A={components:{contactEdit:a("VU/8")(k,w,!1,function(e){a("A5CT")},"data-v-27cb41b4",null).exports,contactAdd:a("VU/8")(C,P,!1,function(e){a("LgHL")},"data-v-f0ecfd38",null).exports},data:function(){return{contact:{},loading:!1,deleting:!1,selected:[],search:null,rowsPerPageItems:[4,8,12],checkboxes:{},pagination:{rowsPerPage:10},headers:[{text:"ID",align:"left",value:"contactId"},{text:"First Name",value:"firstname"},{text:"Last Name",value:"lastname"},{text:"Middle Name",value:"middlename"},{text:"Mobile Name",value:"mobilePhone"},{text:"Home phone",value:"homePhone"},{text:"Address",value:"address"},{text:"Email",value:"email"},{text:"Actions",value:"name",sortable:!1}],contacts:[]}},created:function(){this.loadContactList()},methods:{updateSelection:function(){var e=this;this.selected=[];var t=function(t){if(e.checkboxes[t]){var a=e.contacts.find(function(e){return e.contactId==t});console.log(a),e.selected.push(a)}};for(var a in this.checkboxes)t(a)},loadContactList:function(){var e=this;this.loading=!0,this.$http.get(y+"contacts/get-all",{headers:{Authorization:_.getAuthHeader()}}).then(function(t){e.contacts=t.body,e.loading=!1})},selectContact:function(e){this.contact=this.contacts.find(function(t){return t.contactId===e})},deleteContact:function(e){var t=this,a=new FormData;a.append("contactId",e),this.$http.post(y+"contacts/delete",a,{headers:{Authorization:_.getAuthHeader()}}).then(function(){t.selected=[],t.loadContactList()})},deleteSelectedContacts:function(){var e=this,t=new FormData;this.deleting=!0;var a=this.selected.map(function(e){return e.contactId});console.log(a),t.append("contactId",a),this.$http.post(y+"contacts/deleteList",t,{headers:{Authorization:_.getAuthHeader()}}).then(function(){e.selected=[],e.checkboxes={},e.loadContactList(),e.deleting=!1}).catch(function(t){e.deleting=!1})}},computed:{isMobile:function(){return this.$vuetify.breakpoint.mdAndDown},pages:function(){return null==this.pagination.rowsPerPage||null==this.pagination.totalItems?0:Math.ceil(this.contacts.length/this.pagination.rowsPerPage)}},watch:{isMobile:function(e){this.selected=[],this.checkboxes={}}}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{staticClass:"pt-5",staticStyle:{"max-width":"1250px"}},[a("v-card",[a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",md6:""}},[a("contact-add",{on:{update:e.loadContactList}}),e._v(" "),e.selected.length?a("v-btn",{attrs:{loading:e.deleting,color:"red",dark:""},on:{click:e.deleteSelectedContacts}},[e._v("Delete selected")]):e._e()],1)],1)],1),e._v(" "),a("v-divider"),e._v(" "),e.isMobile?e._e():a("v-data-table",{attrs:{loading:e.loading,headers:e.headers,items:e.contacts,search:e.search,"select-all":"","item-key":"contactId",pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",[a("v-checkbox",{attrs:{primary:"","hide-details":""},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"props.selected"}})],1),e._v(" "),a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.contactId||"-"))]),e._v(" "),a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.firstname||"-"))]),e._v(" "),a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.lastname||"-"))]),e._v(" "),a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.middlename||"-"))]),e._v(" "),a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.mobilePhone||"-"))]),e._v(" "),a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.homePhone||"-"))]),e._v(" "),a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.address||"-"))]),e._v(" "),a("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.email||"-"))]),e._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mx-0",attrs:{icon:""},on:{click:function(a){e.selectContact(t.item.contactId)}}},[a("v-icon",{attrs:{color:"teal"}},[e._v("edit")])],1),e._v(" "),a("v-btn",{staticClass:"mx-0",attrs:{icon:""},on:{click:function(a){e.deleteContact(t.item.contactId)}}},[a("v-icon",{attrs:{color:"pink"}},[e._v("delete")])],1)],1)])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),e._v(" "),e.isMobile?a("v-container",{attrs:{fluid:"","grid-list-lg":""}},[e.loading?e._e():a("v-data-iterator",{attrs:{"content-tag":"v-layout",row:"",wrap:"",search:e.search,items:e.contacts,"rows-per-page-items":e.rowsPerPageItems,pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"item",fn:function(t){return a("v-flex",{attrs:{xs12:"",sm6:"",md3:"",lg3:""}},[a("v-card",[a("v-list",{attrs:{dense:""}},[a("v-list-tile",[a("v-list-tile-content",[e._v("Contact ID:")]),e._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.contactId||"-"))])],1),e._v(" "),a("v-list-tile",[a("v-list-tile-content",[e._v("First name:")]),e._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.firstname||"-"))])],1),e._v(" "),a("v-list-tile",[a("v-list-tile-content",[e._v("Last name:")]),e._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.lastname||"-"))])],1),e._v(" "),a("v-list-tile",[a("v-list-tile-content",[e._v("Middle name:")]),e._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.middlename||"-"))])],1),e._v(" "),a("v-list-tile",[a("v-list-tile-content",[e._v("Mobile phone:")]),e._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.mobilePhone||"-"))])],1),e._v(" "),a("v-list-tile",[a("v-list-tile-content",[e._v("Home phone:")]),e._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.homePhone||"-"))])],1),e._v(" "),a("v-list-tile",[a("v-list-tile-content",[e._v("Address:")]),e._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.address||"-"))])],1),e._v(" "),a("v-list-tile",[a("v-list-tile-content",[e._v("Email:")]),e._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.email||"-"))])],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-card-actions",{attrs:{"align-center":""}},[a("v-checkbox",{attrs:{"hide-details":""},on:{change:e.updateSelection},model:{value:e.checkboxes[t.item.contactId],callback:function(a){e.$set(e.checkboxes,t.item.contactId,a)},expression:"checkboxes[props.item.contactId]"}}),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{staticClass:"mx-0",attrs:{disabled:e.deleting,icon:""},on:{click:function(a){e.selectContact(t.item.contactId)}}},[a("v-icon",{attrs:{color:"teal"}},[e._v("edit")])],1),e._v(" "),a("v-btn",{staticClass:"mx-0",attrs:{disabled:e.deleting,icon:""},on:{click:function(a){e.deleteContact(t.item.contactId)}}},[a("v-icon",{attrs:{color:"pink"}},[e._v("delete")])],1)],1)],1)],1)}}])}),e._v(" "),e.loading?a("v-layout",{staticClass:"pa-2",attrs:{"align-center":"","justify-center":""}},[a("v-progress-circular",{attrs:{size:50,indeterminate:"",color:"primary"}})],1):e._e()],1):e._e()],1),e._v(" "),a("contact-edit",{attrs:{contact:e.contact},on:{update:e.loadContactList}})],1)],1)],1)},staticRenderFns:[]};var M=a("VU/8")(A,R,!1,function(e){a("Fnsd")},null,null).exports,$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{staticStyle:{"max-width":"1150px"}},[a("v-jumbotron",{attrs:{height:"500px"}},[a("v-container",{attrs:{"fill-height":""}},[a("v-layout",{attrs:{"align-center":""}},[a("v-flex",[a("h3",{staticClass:"display-3"},[e._v("Welcome to the Phone Book app")]),e._v(" "),a("span",{staticClass:"subheading"},[e._v("Lorem ipsum dolor sit amet, pri veniam forensibus id. Vis maluisset molestiae id, ad semper lobortis cum. At impetus detraxit incorrupte usu, repudiare assueverit ex eum, ne nam essent vocent admodum.")]),e._v(" "),a("v-divider",{staticClass:"my-3"}),e._v(" "),a("div",{staticClass:"title mb-3"},[e._v("Check out our newest revolutionary features!")]),e._v(" "),a("v-btn",{staticClass:"mx-0",attrs:{large:"",color:"primary"}},[e._v("See more")])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var I=a("VU/8")({name:"welcome"},$,!1,function(e){a("ZaRi")},"data-v-7aa0df31",null).exports,L=a("woOf"),T=a.n(L),E=a("NYxO");n.a.use(E.a);var F=new E.a.Store({state:{user:{},redirect:null,isAuth:!1},getters:{user:function(e){return e.user},isAuth:function(e){return e.isAuth},redirect:function(e){return e.redirect}},mutations:{setUser:function(e,t){return e.user=T()({},t)},setRedirect:function(e,t){e.redirect=t},setAuth:function(e,t){e.isAuth=t}},actions:{login:function(e,t){var a,s=e.commit,i=(t.credentials,t.formData),o=t.redirect;return n.a.http.post("https://vuejs-phone-book.herokuapp.com/oauth/token",i,{headers:{authorization:"Basic "+(a="testjwtclientid:XY7kmzoNzl100",btoa(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)})))}}).then(function(e){var t=e.body.access_token;return _.saveToken(t),s("setAuth",!0),o&&q.push(o),!0})},registration:function(e,t){e.commit,t.credentials;var a=t.data,s=t.redirect;return n.a.http.post("https://vuejs-phone-book.herokuapp.com/api/register",a).then(function(e){return s&&q.push(s),!0})},logOut:function(e){var t=e.commit;_.deleteToken(),t("setAuth",!1),q.push("/")}}});n.a.use(f.a);var S=new f.a({mode:"history",routes:[{path:"/",component:I},{path:"/test",component:M,meta:{requireAuth:!0}}]});S.beforeEach(function(e,t,a){var n=e.matched.some(function(e){return e.meta.requireAuth});F.getters.isAuth;_.isTokenExpired()?(_.deleteToken(),F.commit("setAuth",!1)):(F.commit("setAuth",!0),a()),!F.getters.isAuth&&n?a("/"):a()});var q=S,O=a("3EgV"),j=a.n(O),z=a("8+8L");a("7zck");n.a.use(j.a),n.a.use(z.a),n.a.config.productionTip=!1,new n.a({el:"#app",router:q,store:F,components:{App:h},template:"<App/>"})},ZaRi:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.a9bb3f286b86c5ad3e87.js.map